<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kapatkov_JS_HW_3</title>
</head>

<body>
    <script>
        "use strict";
        let getValueFromForm = (formId, elementId) => document.forms[formId].elements[elementId].value;

        // 1.	Подсчитать сумму всех чисел в заданном пользователем диапазоне
        function getFirstTaskResult() {
            let leftBorder = getValueFromForm("FirstTask", "leftBorder");
            let rightBorder = getValueFromForm("FirstTask", "rightBorder");
            if (leftBorder === rightBorder) {
                document.getElementById("firstTaskResult").value = 0;

            } else {
                let arr = [];
                while (rightBorder >= leftBorder) {
                    arr.push(leftBorder++);
                }
                document.getElementById("firstTaskResult").value = arr.reduce((acc, curVal) => acc + curVal);
            }
        }

        // 2.	Запросить 2 числа и найти только наибольший общий делитель
        function getSecondTaskResult() {
            let firstValue = getValueFromForm("SecondTask", "firstValue");
            let secondValue = getValueFromForm("SecondTask", "secondValue");
            let p = firstValue % secondValue;
            while (p !== 0) {
                firstValue = secondValue;
                secondValue = p;
                p = firstValue % secondValue;
            }
            document.getElementById("secondTaskResult").value = secondValue;
        }

        // 3.	Запросить у пользователя число и вывести все делители этого числа
        function getThirdTaskResult() {
            let value = getValueFromForm("ThirdTask", "value");
            let result = [];
            for (let i = 1; i <= value; i++) {
                if (value % i === 0) {
                    result.push(i);
                }
            }
            document.getElementById("thirdTaskResult").value = result;
        }

        // 4.	Определить количество цифр в введенном числе 
        function getFourthTaskResult() {
            let value = String(getValueFromForm("FourthTask", "userValue")).split("");
            document.getElementById("fourthTaskResult").value = value.length;
        }

        // 5.	Запросить у пользователя 10 чисел и подсчитать, сколько он ввел положительных, отрицательных и нулей. При этом также посчитать, сколько четных и нечетных. Вывести статистику на экран. Учтите, что достаточно одной переменной(не 10) для ввода чисел пользователем.
        function getFifthTaskResult() {
            let values = String(getValueFromForm("FifthTask", "values")).split(',');
            let countOfPos = 0;
            let countOfNeg = 0;
            let countOfZero = 0;
            let countOfEven = 0;
            let countOfOdd = 0;
            values.forEach((value) => {
                if (+value > 0) ++countOfPos;
                if (+value < 0) ++countOfNeg;
                if (+value === 0) ++countOfZero;
                if (+value % 2 === 0) ++countOfEven;
                if (+value % 2 !== 0) ++countOfOdd;
            })
            document.getElementById("fifthTaskResultPositive").value = countOfPos;
            document.getElementById("fifthTaskResultNegative").value = countOfNeg;
            document.getElementById("fifthTaskResultZero").value = countOfZero;
            document.getElementById("fifthTaskResultEven").value = countOfEven;
            document.getElementById("fifthTaskResultOdd").value = countOfOdd;
        }

        // 6.	Зациклить калькулятор. Запросить у пользователя 2 числа и знак, решить пример, вывести результат и спросить, хо-чет ли он решить еще один пример. И так до тех пор, пока пользователь не откажется
        function getSixthTaskResult() {
            let firstValue = getValueFromForm("SixthTask", "value_1");
            let sign = getValueFromForm("SixthTask", "sign");
            let secondValue = getValueFromForm("SixthTask", "value_2");
            switch (sign) {
                case '+':
                    document.getElementById("sixthTaskResult").value = +firstValue + +secondValue;
                    break;
                case '-':
                    document.getElementById("sixthTaskResult").value = +firstValue - +secondValue;
                    break;
                case '*':
                    document.getElementById("sixthTaskResult").value = +firstValue * +secondValue;
                    break;
                case '/':
                    document.getElementById("sixthTaskResult").value = (+firstValue / +secondValue).toFixed(2);
                    break;
                case '%':
                    document.getElementById("sixthTaskResult").value = +firstValue % +secondValue;
                    break;
            }
        }

        // 7.	Запросить у пользователя число и на сколько цифр его сдвинуть. Сдвинуть цифры числа и вывести результат (если число 123456 сдвинуть на 2 цифры, то получится 345612).
        function getSeventhTaskResult() {
            let value = String(getValueFromForm("SeventhTask", "someValue")).split('');
            let shift = getValueFromForm("SeventhTask", "shift");
            for (let i = 0; i < shift; i++) {
                value.push(value.shift());
            }
            document.getElementById("seventhTaskResult").value = value.join('');
        }

        //  8. Зациклить вывод дней недели таким образом: «День недели. Хотите увидеть следующий день?» и так до тех пор, пока пользователь нажимает OK.
        function getEighthTaskResult() {
            let days = [
                "Воскресенье",
                "Понедельник",
                "Вторник",
                "Среда",
                "Четверг",
                "Пятница",
                "Суббота"
            ];
            let date = new Date();
            let currentDay = String(getValueFromForm("EighthTask", "eighthTaskResult"));
            let index = days.indexOf(currentDay.toString());
            if (index !== -1) {
                if (index === days.length - 1) {
                    document.getElementById("eighthTaskResult").value = days[0];
                } else
                    document.getElementById("eighthTaskResult").value = days[++index];
            }
        }

        // 9.	Вывести таблицу умножения для всех чисел от 2 до 9. Каждое число необходимо умножить на числа от 1 до 10.
        function getNinthTaskResult() {
            let table, row, cell, i, j;
            table = document.createElement('table');
            table.style.textAlign = 'right';
            table.style.fontFamily = 'monospace';
            for (i = 1; i < 10; i++) {
                row = document.createElement('tr');
                for (j = 1; j < 10; j++) {
                    cell = document.createElement(i === 1 || j === 1 ? 'th' : 'td');
                    cell.appendChild(document.createTextNode(i * j));
                    cell.style.padding = '2px';
                    cell.style.width = 100 / 9 + '%';
                    row.appendChild(cell);
                }
                table.appendChild(row);
            }
            document.body.appendChild(table);
        }

        // 10.	Игра «Угадай число». Предложить пользователю загадать число от 0 до 100 и отгадать его следующим способом: каждую итерацию цикла делите диапазон чисел пополам, записываете результат в N и спрашиваете у пользователя «Ваше число > N, < N или == N?». В зависимости от того что указал пользователь, уменьшаете диапазон. Начальный диапазон от 0 до 100, поделили пополам и получили 50. Если пользователь указал, что его число > 50, то изменили диапазон на от 51 до 100. И так до тех пор, пока пользователь не выберет == N.
        function getTenthTaskResult() {
            let leftBorder = 0;
            let rightBorder = 100;

            while (leftBorder <= rightBorder) {
                let middle = Math.round((leftBorder + rightBorder) / 2);
                if (confirm(`Ваше число = ${middle}?`)) {
                    alert("Игра закончена!");
                    return;
                } else if (confirm(`Ваше число < ${middle}?`)) {
                    rightBorder = middle - 1;
                } else if (confirm(`Ваше число > ${middle}?`)) {
                    leftBorder = middle + 1;
                }
            }
            alert("Не удалось угадать!")
        }
    </script>

    <form id="FirstTask">
        <legend><strong>Подсчитать сумму всех чисел в заданном пользователем диапазоне.</strong></legend>
        <label>От</label>
        <label for="leftBorder"></label><input type="number" id="leftBorder">
        <label>До</label>
        <label for="rightBorder"></label><input type="number" id="rightBorder">
        <input type="button" value="Рассчитать" onclick="getFirstTaskResult()">
        <p>Результат:
            <output id="firstTaskResult"></output>
        </p>
        <hr>
    </form>

    <form id="SecondTask">
        <legend><strong>Запросить 2 числа и найти только наибольший общий делитель.</strong></legend>
        <label>Первое число:</label>
        <label for="firstValue"></label><input type="number" id="firstValue">
        <label>Второе число:</label>
        <label for="secondValue"></label><input type="number" id="secondValue">
        <input type="button" value="Найти" onclick="getSecondTaskResult()">
        <p>Результат:
            <output id="secondTaskResult"></output>
        </p>
        <hr>
    </form>

    <form id="ThirdTask">
        <legend><strong>Запросить у пользователя число и вывести все делители этого числа.</strong></legend>
        <label>Введите число:</label>
        <label for="value"></label><input type="number" id="value">
        <input type="button" value="Найти" onclick="getThirdTaskResult()">
        <p>Результат:
            <output id="thirdTaskResult"></output>
        </p>
        <hr>
    </form>

    <form id="FourthTask">
        <legend><strong>Определить количество цифр в введенном числе.</strong></legend>
        <label>Введите число:</label>
        <label for="userValue"></label><input type="number" id="userValue">
        <input type="button" value="Найти" onclick="getFourthTaskResult()">
        <p>Результат:
            <output id="fourthTaskResult"></output>
        </p>
        <hr>
    </form>

    <form id="FifthTask">
        <legend><strong>Подсчитать сколько положительных, отрицательных, нулей, четных, нечетных.</strong></legend>
        <label>Введите 10 чисел через запятую (1,100,26,8):</label>
        <label for="values"></label><input type="text" id="values">
        <input type="button" value="Посчитать" onclick="getFifthTaskResult()">
        <p>Положительных:
            <output id="fifthTaskResultPositive"></output> Отрицательных:
            <output id="fifthTaskResultNegative"></output> Нулей:
            <output id="fifthTaskResultZero"></output> Четных:
            <output id="fifthTaskResultEven"></output> Нечетных:
            <output id="fifthTaskResultOdd"></output>
        </p>
        <hr>
    </form>

    <form id="SixthTask">
        <legend><strong>Калькулятор.</strong></legend>
        <label>Введите первое число:</label>
        <label for="value_1"></label><input type="number" id="value_1">
        <label>Укажите знак:</label>
        <label for="sign"></label><input type="text" id="sign">
        <label>Введите второе число:</label>
        <label for="value_2"></label><input type="number" id="value_2">
        <input type="button" value="Посчитать" onclick="getSixthTaskResult()">
        <p>Результат:
            <output id="sixthTaskResult"></output>
        </p>
        <hr>
    </form>

    <form id="SeventhTask">
        <legend><strong>Запросить у пользователя число и на сколько цифр его сдвинуть.</strong></legend>
        <label>Введите число:</label>
        <label for="someValue"></label><input type="number" id="someValue"> На сколько цифр сдвинуть:
        <label for="shift"></label><input type="number" id="shift">
        <input type="button" value="Сдвинуть" onclick="getSeventhTaskResult()">
        <p>Результат:
            <output id="seventhTaskResult"></output>
        </p>
        <hr>
    </form>

    <form id="EighthTask">
        <legend><strong>Зациклить вывод дней недели таким образом: «День недели. Хотите увидеть следующий день?» и так до тех пор, пока пользователь нажимает OK.</strong></legend>
        День недели:
        <output id="eighthTaskResult">Пятница</output>
        <input type="button" value="Cледующий день недели" onclick="getEighthTaskResult()">
        <hr>
    </form>

    <form id="TenthTask">
        <hr>
        <legend><strong>Игра «Угадай число».</strong></legend>
        <label for="puzzledValue"></label><input type="number" id="puzzledValue">
        <input type="button" value="Загадать" onclick="getTenthTaskResult()">
        <hr>
    </form>

    <form id="NinthTask">
        <legend><strong>Вывести таблицу умножения для всех чисел от 2 до 9. Каждое число необходимо умножить на числа от 1 до 10.</strong></legend>
        <input type="button" value="Вывести" onclick="getNinthTaskResult()">
    </form>
</body>

</html>